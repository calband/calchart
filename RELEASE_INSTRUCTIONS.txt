~=~=~=~=~=~=~=~=~=~=~

How to release calchart:

The current calchart version is 3.3.0.  In all commands below, substitute that number for $CCVER (meaning when you read $CCVER, type 3.3.0)

0.1 Increment the version in ccvers.h to CCVER

0.2 Modify the release version in the install script, build-win/CalChartInstallScript.iss.

0.3 Edit build-macos/CalChart.xcodeproj/project.pbxproj, and change CURRENT_PROJECT_VERSION to current version, $CCVER

0.4 Edit build-macos/dmg_maker.sh to have the right version

1. copy trunk to a tag:
$ svn copy -m "copying trunk to tag for version $CCVER" https://calchart.svn.sourceforge.net/svnroot/calchart/trunk https://calchart.svn.sourceforge.net/svnroot/calchart/tags/calchart-$CCVER

2. get that tag on your computer
$ svn co https://calchart.svn.sourceforge.net/svnroot/calchart/tags/calchart-$CCVER calchart-$CCVER

3. Build the product:
---
For windows:

w3.1 Follow the instructions in README-win.txt

w3.2 Install InnoSetup
I use InnoSetup for creating the installer.  Get it from:
http://www.jrsoftware.org/isinfo.php

w3.3 CalChart is built having the C-runtime as a DLL.  Most users will not have the dll installed on their system.  We package up the redistribution installer with our package for them.
  w3.3.a. Google and find the vcredist_x86.exe for Visual C++ 2010.  Download and save to \calchart\trunk\build-win.

w3.4 Build the setup.exe installer:
Compile via Build->Compile.

w3.5 The installer is called setup.exe.  Rename to:
$ cd build-win/InstallerFiles
$ mv setup.exe Install-CalChart-$CCVER.exe

The final product is Install-CalChart-$CCVER.exe

---
For Mac:
m3.1 Follow the instructions in README-macos.txt

m3.2 Run dmg_maker.sh
$ bash -f dmg_maker.sh

The final product is CalChart-$CCVER.dmg

---
4. Go to the sourceforge page at http://sourceforge.net/projects/calchart
You'll need to be logged in to modify the files.

5. Go to Project Admin -> File Manager

6. Make a new directory for this version (click on the * next to root)

7. Upload the README.txt to the new folder.  Click on README.txt and edit the file details to signify it's a release notes.

8. Upload the CalChart-$CCVER.dmg to the folder.  Click on dmg and edit the file details to signify it's platform is Mac (OS X) and set the release_notes for the file.

9. Repeat for Install-CalChart-$CCVER.exe.  Click on zip and edit the file details to signify it's platform is Windows and set the release_notes for the file.

